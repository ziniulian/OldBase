LZR.HTML5.loadJs([LZR.HTML5.jsPath+"util/Geography/Latitude.js",LZR.HTML5.jsPath+"util/Geography/Longitude.js"]);LZR.Util.Geography.ScaleRule=function(a){this.x=a.x;this.y=a.y;this.lat=new LZR.Util.Geography.Latitude(a.lat);this.lon=new LZR.Util.Geography.Longitude(a.lon);this.latScale=this.lonScale=0;this.rational={}};LZR.Util.Geography.ScaleRule.prototype.className="LZR.Util.Geography.ScaleRule";LZR.Util.Geography.ScaleRule.prototype.version="0.0.1";
LZR.Util.Geography.ScaleRule.prototype.computeScale=function(a){this.lonScale=Math.abs(this.lon.val-a.lon.val)/Math.abs(this.x-a.x);this.latScale=Math.abs(this.lat.val-a.lat.val)/Math.abs(this.y-a.y);a.lonScale=this.lonScale;a.latScale=this.latScale};
LZR.Util.Geography.ScaleRule.prototype.computeRational=function(a,c,d){d||(d=this.lat);for(var a=this.lon.toRange(d,a*this.lonScale),c=this.lon.toRange(d,c*this.lonScale),a=Math.ceil(a),c=Math.floor(c),b=Math.pow(10,(a+"").length-1),e=Math.ceil(a/b)*b;e>c;)b/=10,e=10<b?Math.ceil(a/b)*b:c;this.rational.d=e;this.rational.w=this.lon.toAngle(d,e)/this.lonScale;return this.rational};
