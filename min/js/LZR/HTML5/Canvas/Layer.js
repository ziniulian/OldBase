LZR.HTML5.Canvas.Layer=function(a){this.name=a?a.name:"";this.obj=a&&a.obj?a.obj:a;this.alpha=1;this.visible=!0};LZR.HTML5.Canvas.Layer.prototype.className="LZR.HTML5.Canvas.Layer";LZR.HTML5.Canvas.Layer.prototype.version="0.0.1";LZR.HTML5.Canvas.Layer.prototype.getType=function(){switch(LZR.HTML5.Util.getClassName(this.obj)){case "HTMLImageElement":return 0;case "ImageData":return 1;default:return-1}};
LZR.HTML5.Canvas.Layer.prototype.draw=function(a,e,f,g,b,c,i,j,h){this.visible&&this.obj&&(a.globalAlpha=this.alpha,isNaN(g)?a.drawImage(this.obj,e,f):isNaN(c)?a.drawImage(this.obj,e,f,g,b):this.draw2canvas(a,this.obj,e,f,g,b,c,i,j,h))};
LZR.HTML5.Canvas.Layer.prototype.draw2canvas=function(a,e,f,g,b,c,i,j,h,k){if(!(f>e.width||i>a.canvas.width||g>e.height||j>a.canvas.height)){var d,p=h/b,q=k/c;d=-f;var l=-g,m=f+b-e.width,n=g+c-e.height;0<d&&(f=0,b-=d,d*=p,i+=d,h-=d);0<m&&(b-=m,h-=m*p);0<l&&(g=0,c-=l,d=l*q,j+=d,k-=d);0<n&&(c-=n,k-=n*q);a.drawImage(e,f,g,b,c,i,j,h,k)}};
